<div class="container mt-5">
    <div class="card shadow-lg">
      <div class="card-header bg-success text-white">
        <h3 class="text-center">Sign Up</h3>
      </div>
      <div class="card-body">
        <form #signupForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
          
          
          <div class="form-group mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" id="email"   placeholder="Votre email" name="email" class="form-control"
              [(ngModel)]="user.email" #email="ngModel" required email
              [ngClass]="{ 'is-invalid': email.touched && email.invalid }" />
            <div *ngIf="email.touched && email.errors?.['required']" class="invalid-feedback">
              Email est obligatoire.
            </div>
            <div *ngIf="email.touched && email.errors?.['email']" class="invalid-feedback">
               Format invalide de l'email.
            </div>
          </div>
  
          
          <div class="form-group mb-3">
            <label for="nom" class="form-label">Nom</label>
            <input type="text" id="nom" name="nom"  placeholder="Votre Nom"  class="form-control"
              [(ngModel)]="user.nom" #nom="ngModel" required minlength="2"
              [ngClass]="{ 'is-invalid': nom.touched && nom.invalid }" />
            <div *ngIf="nom.touched && nom.errors?.['required']" class="invalid-feedback">
              Nom est obligatoire .
            </div>
          </div>
  
          
          <div class="form-group mb-3">
            <label for="prenom" class="form-label">Prénom</label>
            <input type="text" id="prenom" placeholder="Votre Prénom"  name="prenom" class="form-control"
              [(ngModel)]="user.prenom" #prenom="ngModel" required minlength="2"
              [ngClass]="{ 'is-invalid': prenom.touched && prenom.invalid }" />
            <div *ngIf="prenom.touched && prenom.errors?.['required']" class="invalid-feedback">
              Prénom est obligatoire .
            </div>
          </div>
  
    
          <div class="form-group mb-3">
            <label for="numerotel" class="form-label">Téléphone</label>
            <input type="tel" id="numerotel" name="numerotel" placeholder="Votre Téléphone" class="form-control"
              [(ngModel)]="user.numerotel" #numerotel="ngModel" required pattern="^\d{8}$"
              [ngClass]="{ 'is-invalid': numerotel.touched && numerotel.invalid }" />
            <div *ngIf="numerotel.touched && numerotel.errors?.['required']" class="invalid-feedback">
              Téléphone est obligatoire.
            </div>
            <div *ngIf="numerotel.touched && numerotel.errors?.['pattern']" class="invalid-feedback">
              Numéro doit être exactement 8 chiffres.
            </div>
          </div>
  
          
          <div class="form-group mb-3">
            <label for="adresse" class="form-label">Adresse</label>
            <input type="text" id="adresse" placeholder="Votre Adresse" name="adresse" class="form-control"
              [(ngModel)]="user.adresse" #adresse="ngModel" required minlength="5"
              [ngClass]="{ 'is-invalid': adresse.touched && adresse.invalid }" />
            <div *ngIf="adresse.touched && adresse.errors?.['required']" class="invalid-feedback">
              Adresse est obligatoire.
            </div>
          </div>
  
          
          <div class="form-group mb-3">
            <label for="mdp" class="form-label">Mot de passe</label>
            <div class="input-group">
              <input placeholder="Votre Mot de passe" [type]="mdpVisible ? 'text' : 'password'" id="mdp" name="mdp" class="form-control"
                [(ngModel)]="user.mdp" #mdp="ngModel" required minlength="8"
                [ngClass]="{ 'is-invalid': mdp.touched && mdp.invalid }" />
                <button type="button" class="btn btn-outline-secondary" (click)="toggleMdpVisibility()">
                    <i [ngClass]="mdpVisible ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
                  </button>                  
            </div>
            <div *ngIf="mdp.touched && mdp.errors?.['required']" class="invalid-feedback">
              Mot de passe est obligatoire.
            </div>
          </div>
  
          
          <button type="submit" class="btn btn-success w-100" [disabled]="signupForm.invalid">
            S'inscrire
          </button>
        </form>
  
        
        <div *ngIf="successMessageVisible" class="alert alert-success mt-3">
          {{ successMessage }}
        </div>
  
        
        <div *ngIf="errorMessageVisible" class="alert alert-danger mt-3">
          {{ errorMessage }}
        </div>
      </div>
    </div>
  </div>
  